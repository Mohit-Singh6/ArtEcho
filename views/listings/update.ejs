<% layout('/layouts/boilerplate.ejs') %>

    <body>
        <main class="container">
        <div class="form-container">
            <h1>Update Artwork Details</h1>
            
            <form method="POST" action="/arts/<%= data._id %>?_method=PUT" enctype="multipart/form-data">
                <div class="form-group">
                    <label for="title" class="form-label">Title</label>
                    <input type="text" class="form-control" id="title" name="art[title]" value="<%= data.title %>" required>
                </div>

                <div class="form-group">
                    <label for="artist" class="form-label">Artist</label>
                    <input type="text" class="form-control" id="artist" name="art[artist]" value="<%= data.artist %>" required>
                </div>

                <div class="form-group">
                    <label for="type" class="form-label">Art Type</label>
                    <select class="form-select" id="type" name="art[type]" required>
                        <option value="" disabled>Select art type</option>
                        <option value="Paintings" <%= data.type === "Paintings" ? "selected" : "" %>>Paintings</option>
                        <option value="Photograph" <%= data.type === "Photograph" ? "selected" : "" %>>Photograph</option>
                        <option value="Sculpture" <%= data.type === "Sculpture" ? "selected" : "" %>>Sculpture</option>
                        <option value="Digital Art" <%= data.type === "Digital Art" ? "selected" : "" %>>Digital Art</option>
                        <option value="Mixed Media" <%= data.type === "Mixed Media" ? "selected" : "" %>>Mixed Media</option>
                        <option value="Other" <%= data.type === "Other" ? "selected" : "" %>>Other</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="medium" class="form-label">Medium</label>
                    <input type="text" class="form-control" id="medium" name="art[medium]" value="<%= data.medium %>">
                </div>

                <div class="form-group">
                    <label for="yearCreated" class="form-label">Year Created</label>
                    <input type="number" class="form-control" id="yearCreated" name="art[yearCreated]" value="<%= data.yearCreated || new Date().getFullYear() %>">
                </div>

                <div class="form-group">
                    <label class="form-label">Current image:</label>
                    <div class="image-preview">
                        <img src="<%= newUrl %>" alt="Current artwork">
                    </div>
                    <div class="file-upload mt-3">
                        <input type="file" id="image" name="art[image]" accept="image/jpeg,image/png">
                        <label for="image" class="file-upload-label">
                            <span class="file-upload-text">Click to update artwork image</span>
                            <span class="file-upload-hint">Leave empty to keep current image</span>
                        </label>
                    </div>
                </div>

                <div class="form-group">
                    <label for="price" class="form-label">Price (â‚¹)</label>
                    <input type="number" class="form-control" id="price" name="art[price]" value="<%= data.price %>" required>
                </div>

                <div class="form-group">
                    <label for="description" class="form-label">Description</label>
                    <textarea class="form-textarea" id="description" name="art[description]" rows="5"><%= data.description %></textarea>
                </div>

                <div class="form-actions">
                    <a href="/arts/<%= data._id %>" class="bttn bttn-secondary">Cancel</a>
                    <button type="submit" class="bttn bttn-primary">Update Artwork</button>
                </div>
            </form>
        </div>
    </main>
    </body>

    </html>